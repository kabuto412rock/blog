<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª</title><meta name=keywords content><meta name=description content="Posts - ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª"><meta name=author content="å®—å˜‰"><link rel=canonical href=https://zongjia.me/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://zongjia.me/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://zongjia.me/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://zongjia.me/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://zongjia.me/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://zongjia.me/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zongjia.me/posts/index.xml title=rss><link rel=alternate hreflang=en href=https://zongjia.me/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://zongjia.me/posts/"><meta property="og:site_name" content="ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª"><meta property="og:title" content="Posts"><meta property="og:description" content="ExampleSite description"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://zongjia.me/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zongjia.me/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zongjia.me/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zongjia.me/ accesskey=h title="ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª (Alt + H)">ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zongjia.me/archives/ title=archives><span>archives</span></a></li><li><a href=https://zongjia.me/tags/ title=tags><span>tags</span></a></li><li><a href=https://zongjia.me/search/ title=search><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zongjia.me/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ä½¿ç”¨Gin Request Contextå¯èƒ½é‡åˆ°çš„å•é¡Œ(é™„è§£æ³•)</h2></header><div class=entry-content><p>æ’°æ–‡åŸå›  å•é¡Œç¨‹å¼ç¢¼(ç¯„ä¾‹) è§£æ³• 1. æš«æ™‚å…ˆå‚³ context.TODO() 2. ä½¿ç”¨ context.WithoutCancel 3. ä¸è¦ç”¨goé—œéµå­— çµèª åƒè€ƒè³‡æ–™ æ’°æ–‡åŸå›  æœ€è¿‘å·¥ä½œé‡åˆ°æœå‹™ä½¿ç”¨çš„æ–°æ–¹æ³•éœ€è¦å‚³écontextåˆ°å‡½æ•¸ä¸­åŸ·è¡Œï¼Œ çµæœå°è‡´æœ¬ä¾†è¦è·‘åœ¨èƒŒæ™¯ä»»å‹™æ²’å®Œæˆ(ex: é€šçŸ¥è¨Šæ¯/ç™¼é€éƒµä»¶)ã€‚
å•é¡Œç¨‹å¼ç¢¼(ç¯„ä¾‹) äº‹æƒ…æ˜¯å› ç‚ºå‚³å…¥çš„æ˜¯ c.Request.Context()ï¼Œç„¶è€Œé€™å€‹ginæ‰€å¯¦ä½œçš„Contextåœ¨å›æ‡‰HTTP ResponseçµæŸæ™‚æœƒè‡ªå‹•å–æ¶ˆï¼Œ
å°è‡´å¼•ç”¨ctxçš„doå‡½æ•¸åœ¨Contexté€£å¸¶è‘—è¢«å–æ¶ˆå¾Œå…§éƒ¨çš„å‡½æ•¸ä¹Ÿè·Ÿè‘—å–æ¶ˆã€‚
ç¨‹å¼ç¢¼ç¯„ä¾‹å¦‚ä¸‹:
package main import ( "context" "fmt" "net/http" "time" "github.com/gin-gonic/gin" ) func main() { // Create a Gin router with default middleware (logger and recovery) r := gin.Default() // Define a simple GET endpoint r.GET("/ping", func(c *gin.Context) { go doWork(c.Request.Context()) time.Sleep(2 * time.Second) // Return JSON response c.JSON(http.StatusOK, gin.H{ "message": "pong", }) }) r.Run("127.0.0.1:8080") } func doWork(ctx context.Context) { defer ctx.Done() elapsed := 0 * time.Millisecond for { select { case &lt;-ctx.Done(): // Check if the context is done (cancelled or timed out) fmt.Printf("worker stopped err: %v\n", ctx.Err()) return default: secs := 500 * time.Millisecond fmt.Printf("working... %v passed\n", elapsed) time.Sleep(secs) elapsed += secs } if elapsed >= 5*time.Second { fmt.Println("worker completed") break } } } å¯¦éš›è·‘èµ·ä¾†æœƒç™¼ç¾doWorkåªæ˜¯æ¯0.5ç§’å°å‡ºä¸€æ®µè¨Šæ¯ï¼ŒåŸæœ¬é æœŸæœ€å¤šè·‘5ç§’å°±æœƒçµæŸï¼Œ ç„¶è€Œå¯¦éš›ä¸Š2ç§’å°±æœƒå› ç‚ºgin responseè¢«æ¨™è¨˜ç‚ºå®Œæˆè‡ªå‹•çµæŸï¼Œ é€™é‚Šåªæ˜¯ç²—ç•¥æ¨¡æ“¬å°Šé‡contextæ©Ÿåˆ¶çš„å‡½å¼åº«çš„è¡Œç‚º(qmgoâ€¦)ï¼Œ ç•¶selectæ•æ‰åˆ°&lt;-ctx.Done()æœƒåœæ­¢æˆ–å–æ¶ˆå¾ŒçºŒçš„è¡Œç‚ºã€‚
...</p></div><footer class=entry-footer><span title='2025-10-05 04:03:15 +0000 UTC'>October 5, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>å®—å˜‰</span></footer><a class=entry-link aria-label="post link to ä½¿ç”¨Gin Request Contextå¯èƒ½é‡åˆ°çš„å•é¡Œ(é™„è§£æ³•)" href=https://zongjia.me/posts/gin-context-problem/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Day30 ä½¿ç”¨Cloudflareéƒ¨å±¬Vueéœæ…‹ç¶²ç«™</h2></header><div class=entry-content><p>ç›®å‰æ’²å…‹ç‰ŒéŠæˆ²ç¶²ç«™éƒ½æ˜¯åœ¨è‡ªå·±çš„é›»è…¦ç”¨npm run devå•Ÿå‹•ï¼Œä»Šå¤©æœƒä»‹ç´¹å¦‚ä½•éƒ¨å±¬Vueå°ˆæ¡ˆåˆ°CloudFlareæä¾›å°å¤–é€£ç·šçš„ç¶²ç«™ï¼Œæ“ä½œæœ‰èª¤çš„åœ°æ–¹å†è«‹å¤šå¤šæŒ‡æ•™ã€‚
ä½¿ç”¨Github Acitonå»ºç«‹ ä»¥ä¸‹çš„æ“ä½œéœ€è¦äº‹å…ˆè¨»å†ŠCloudflareçš„å¸³è™Ÿ å’ŒGitHubçš„å¸³è™Ÿ
ç¬¬0æ­¥ å»ºç«‹CloudFlare Pageçš„Project æˆ‘æ˜¯åƒè€ƒé€™å€‹YouTubeå½±ç‰‡å­¸ç¿’å¦‚ä½•å»ºç«‹Cloudflare Pageå°ˆæ¡ˆï¼Œ ä½†è·Ÿå½±ç‰‡ä¸åŒçš„éƒ¨åˆ†æˆ‘åœ¨1:56æˆ‘æ˜¯é¸only-select-repositoriesé¸æ“‡å–®ä¸€Repoçš„æ¬Šé™ä¸¦å‘½åå°ˆæ¡ˆåç¨±ithelp-game-testã€‚
å½±ç‰‡çœ‹åˆ°5åˆ†é˜çš„æ™‚å€™ï¼ŒCloudflareç¶²ç«™æœ¬èº«åœæ­¢å›æ‡‰ï¼Œå¾Œé¢çš„æ­¥é©Ÿå°±æ²’è·Ÿè‘—å½±ç‰‡æ•™å­¸åšï¼Œå¾Œé¢ç¬¬1~3æ­¥é©Ÿæ˜¯æˆ‘ä¸€æ­¥æ­¥çœ‹æ–‡ä»¶è©¦å‡ºä¾†çš„ä¸¦éå®Œå…¨ç…§å®˜æ–¹å»ºè­°èµ°ï¼Œå› ç‚ºéœ€æŒ‰å°ˆæ¡ˆæœ¬èº«èª¿æ•´ã€‚ ç¬¬1æ­¥ å»ºç«‹ Cloudflare API Token åƒè€ƒCloudflare Pages GitHub Actionèªªæ˜ä»¥ä¸‹åªæ˜¯æˆ‘å†é¡å¤–è‡ªå·±æˆªåœ–å¯¦ä½œçš„æ­¥é©Ÿã€‚
ç™»å…¥å¸³è™Ÿä¾†åˆ°Cloudflareçš„å„€è¡¨æ¿ï¼Œå…ˆé»é¸å·¦ä¸‹è§’çš„Workers & Pages æ¥è‘—é»æ“Šå³æ‰‹é‚Šé€£çµManage API tokensé€²å…¥ç®¡ç†API Tokençš„é é¢ é»æ“Šè—è‰²æŒ‰éˆ•Create Tokenå‰å¾€å»ºç«‹API Tokençš„é é¢ ä¾†åˆ°API Tokensé é¢å¾Œé»é¸Create Custom Tokenæ—çš„è—è‰²æŒ‰éˆ•Get Started å¡«å¯«Token nameé€™é‚Šå¹«Tokenå–åç‚ºDeploy with github åœ¨Permisionså€å¡Šé»é¸Addæ–°å¢ä¸€å€‹æ¬Šé™Account/Cloudflare/Edit ï¼Œæ¥è‘—ç•«é¢æ‹‰åˆ°æœ€ä¸‹æ–¹é»æ“Šè—è‰²æŒ‰éˆ•Continue to summaryã€‚ æ­¤æ™‚Cloudflareæœƒè®“ä½ å†æ¬¡ç¢ºèªæ¬Šé™ï¼Œåªéœ€è¦æ³¨æ„ç•«é¢ä¸Šæœ‰å‡ºç¾All accounts - Cloudflare Pages:Edité€™å€‹ï¼Œæ²’å•é¡Œå°±ç¹¼çºŒé»æ“Šè—è‰²æŒ‰éˆ•Create Tokenã€‚ è‡³æ­¤Cloudflare API Tokenå»ºç«‹æˆåŠŸï¼Œé»æ“ŠæŒ‰éˆ•Copyå…ˆè¤‡è£½èµ·ä¾† ç¬¬2æ­¥ å°‡Cloudflare API Tokenè¨­ç½®æ–¼Github Repo æ­¤è™•Githubå„²å­˜åº«æ˜¯kabuto412rock/ithelp-pokergame
...</p></div><footer class=entry-footer><span title='2023-10-09 07:24:04 +0000 UTC'>October 9, 2023</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>å®—å˜‰</span></footer><a class=entry-link aria-label="post link to Day30 ä½¿ç”¨Cloudflareéƒ¨å±¬Vueéœæ…‹ç¶²ç«™" href=https://zongjia.me/posts/it-day30/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Day29 ç°¡å–®è©•ä¼°æ˜¯å¦é‚„æœ‰æ´»è·¯</h2></header><div class=entry-content><p>ç›®å‰æ‰€è£½ä½œçš„ç¶“å…¸ç´™ç‰Œæ¥é¾å…¶å¯¦æ˜¯æºè‡ªæ–¼Klondike Solitaireçš„è¦å‰‡ï¼Œåªæ˜¯ç™¼ç‰Œå€æ˜¯ä¸€æ¬¡æŠ½ä¸€å¼µçš„å¾ªç’°åˆ¶ï¼Œå› ç‚ºç¶²è·¯ä¸Šæœ‰çœ‹åˆ°æ¯æ¬¡éƒ½æ˜¯æŠ½3å¼µä½†åªèƒ½ç§»å‹•æœ€ä¸Šé¢é‚£ä¸€å¼µçš„è¦å‰‡ï¼Œé‚£ç¨®éå¸¸é›£ç©æŒ‘æˆ°æ€§ä¹Ÿå¾ˆå¤§ã€‚
åˆ¤æ–·ç´™ç‰Œæ¥é¾ç„¡è§£é€™å€‹å•é¡Œé€™å…©å¤©å›°æ“¾æˆ‘å¾ˆä¹…ï¼Œåœ¨æŸ¥éç„¡æ•¸è³‡æ–™ç•¥è®€å¹¾ç¯‡è«–æ–‡å¾Œï¼Œå°¤å…¶å¯¦éš›æœ‰ç”¨çš„è³‡æ–™å¤§å¤šæ˜¯è‹±æ–‡è«–æ–‡ğŸ˜­ï¼Œç™¼ç¾é€™çµ•å°ä¸æ˜¯ä¸€å…©å¤©çš„ç©ºé¤˜æ™‚é–“å°±å¯ä»¥ç†è§£çš„ç›®æ¨™ï¼Œæ‰€ä»¥æ±ºå®šé™ä½ç›®æ¨™ä¸å»åˆ¤æ–·æ˜¯å¦å·²ç¶“æ­»å±€ï¼Œæ”¹ç‚ºã€ç°¡å–®è©•ä¼°æ˜¯å¦é‚„æœ‰æ´»è·¯ã€‘ã€‚
ç°¡å–®è©•ä¼°æ˜¯å¦é‚„æœ‰æ´»è·¯ å°‹æ‰¾æ´»è·¯çš„æœ€å®¹æ˜“æƒ³åˆ°çš„3ç¨®å¯èƒ½ç§»å‹•æ–¹å¼:
ä¸ƒç‰Œå †æœ€å¾Œä¸€å¼µå¾Œé¢è¦æ¥çš„ç‰Œå­˜åœ¨æ–¼ç™¼ç‰Œå€ä¸­ ä»»ä¸€ä¸ƒç‰Œå †å£“åœ¨éš±è—ç‰Œä¸Šæ”¾çš„é‚£å¼µå¯ä»¥æ¥åœ¨å…¶ä»–ä¸ƒç‰Œå †çš„å¾Œé¢ ç™¼ç‰Œå€ä»»ä¸€å¼µç‰Œæˆ–ä¸ƒç‰Œå †çš„æœ€å¾Œä¸€å¼µ å¯ç§»å‹•çµç®—ç‰Œå † é–‹å§‹å¯¦ä½œ æŒ‰ç…§ç°¡å–®è©•ä¼°çš„ä¸‰é …è¦å‰‡ä¾åºæª¢æŸ¥ï¼Œè‹¥æœ‰æª¢æŸ¥å¯ç§»å‹•çš„æ–¹å¼ç‚ºtrueå°±ä¸æœƒç¹¼çºŒæª¢æŸ¥å¾ŒçºŒçš„è¦å‰‡ï¼Œä»¥ä¸‹ç‚ºç¨‹å¼ç¢¼:
// poker-helper.js /** æª¢æŸ¥æ˜¯å¦é‚„æœ‰æ•ˆçš„ç§»å‹•å¡ç‰Œ * @param {CardStacks} cardStacks * @returns {boolean} æœ‰æœ‰æ•ˆç§»å‹•ç‚ºtrue å¯èƒ½æ²’æœ‰ç‚ºfalse */ function checkValidMove(cardStacks) { const dealerStacksValues = cardStacks['dealerStacks'].map((card) => card.value); const seventLastValues = {}; // 1. `ä¸ƒç‰Œå †`æœ€å¾Œä¸€å¼µå¾Œé¢è¦æ¥çš„ç‰Œå­˜åœ¨æ–¼`ç™¼ç‰Œå€`ä¸­ let haveMove1 = SEVEN_STACKS.some((name) => { const stack = cardStacks[name]; if (stack.length === 0) { return false; } const lastCard = stack[stack.length - 1]; const lastCardNumber = lastCard.value % 13; seventLastValues[name] = lastCard.value; // Aå¾Œé¢æ²’æœ‰è¦æ¥çš„ï¼Œä½†å¯ç§»å‹•åˆ°çµç®—ç‰Œå †(å›æ‡‰æˆåŠŸ) if (lastCardNumber === 0) return true; const targetPokerValues = getDifferentColorPokerValues(lastCard.value - 1); return dealerStacksValues.some((value) => { return targetPokerValues.includes(value); }); }); if (haveMove1) { console.log("ç¬¬1æ´»å±€: `ä¸ƒç‰Œå †`æœ€å¾Œä¸€å¼µå¾Œé¢è¦æ¥çš„ç‰Œå­˜åœ¨æ–¼`ç™¼ç‰Œå€`"); return true; } // 2. ä»»ä¸€`ä¸ƒç‰Œå †`å£“åœ¨éš±è—ç‰Œä¸Šæ”¾çš„é‚£å¼µå¯ä»¥æ¥åœ¨å…¶ä»–`ä¸ƒç‰Œå †`çš„å¾Œé¢(ä¸åŒ…å«æœ¬èº«ç‰Œå †) let haveMove2 = SEVEN_STACKS.some((name) => { const stack = cardStacks[name]; if (stack.length === 0) { return false; } let firstOpenCard = null; for (let i = 1; i &lt; stack.length; i++) { if (stack[i].isOpen && (!stack[i - 1].isOpen)) { firstOpenCard = stack[i]; break; } } // æ²’æœ‰å£“åœ¨éš±è—ç‰Œä¸Šçš„ç‰Œæˆ– æ”¾çš„é‚£å¼µæ˜¯Kç„¡æ³•æ¥åœ¨å…¶ä»–ç‰Œå †å¾Œé¢(å›æ‡‰å¤±æ•—) if (firstOpenCard === null || firstOpenCard.value % 13 === 12) { return false; } // æª¢æŸ¥æ˜¯å¦æœ‰å¯ä»¥æ¥çš„ç‰Œ const targetPokerValues = getDifferentColorPokerValues(firstOpenCard.value + 1) return SEVEN_STACKS.some((name2) => { if (name === name2) return false; if (seventLastValues[name2]) { return targetPokerValues.includes(seventLastValues[name2]); } return false; }); }); if (haveMove2) { console.log("ç¬¬2æ´»å±€: ä»»ä¸€`ä¸ƒç‰Œå †`å£“åœ¨éš±è—ç‰Œä¸Šæ”¾çš„é‚£å¼µå¯ä»¥æ¥åœ¨å…¶ä»–`ä¸ƒç‰Œå †`çš„å¾Œé¢(ä¸åŒ…å«æœ¬èº«ç‰Œå †)"); return true; } // 3. `ç™¼ç‰Œå€`ä»»ä¸€å¼µç‰Œæˆ–`ä¸ƒç‰Œå †`çš„æœ€å¾Œä¸€å¼µ å¯ç§»å‹•è‡³ `çµç®—ç‰Œå †` let haveMove3 = FOUR_SUITS.some((suit, index) => { const stackLen = cardStacks[suit].length; if (stackLen === 13) return false; let targetValue = index * 13 + stackLen; return dealerStacksValues.includes(targetValue) || Object.values(seventLastValues).includes(targetValue); }); if (haveMove3) { console.log("ç¬¬3æ´»å±€: `ç™¼ç‰Œå€`ä»»ä¸€å¼µç‰Œæˆ–`ä¸ƒç‰Œå †`çš„æœ€å¾Œä¸€å¼µ å¯ç§»å‹•è‡³ `çµç®—ç‰Œå †`"); } return haveMove3; } /** å–å¾—ç›¸åŒæ•¸å­—ä¸åŒé¡è‰²çš„æ’²å…‹ç‰Œç·¨ç¢¼ * @param {Number} pokerValue å°æ‡‰æ’²å…‹ç‰Œçš„ç·¨è™Ÿ * @returns {Array} [number1, number2] */ function getDifferentColorPokerValues(pokerValue) { const red = (Math.floor(pokerValue / 13) % 3) == 0 const number = pokerValue % 13; return [number + (red ? 13 : 0), number + (red ? 26 : 39)]; } ç„¶å¾Œåœ¨DragDemo.vueä¸­ä½¿ç”¨å‡½æ•¸checkValidMove(cardStacks)å°‡çµæœã€æ˜¯å¦æœ‰å¯ç§»å‹•çš„ç‰Œ(æ¨æ¸¬)ã€‘å„²å­˜åœ¨è¨ˆç®—refè®Šæ•¸ã€‚
...</p></div><footer class=entry-footer><span title='2023-10-08 00:23:02 +0000 UTC'>October 8, 2023</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>å®—å˜‰</span></footer><a class=entry-link aria-label="post link to Day29 ç°¡å–®è©•ä¼°æ˜¯å¦é‚„æœ‰æ´»è·¯" href=https://zongjia.me/posts/it-day29/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Day28 è©•ä¼°æ˜¯å¦ç„¡ç‰Œå¯èµ°ï¼Œå»ºè­°æ£„æ¬Šçš„æç¤º(å˜—è©¦å¤±æ•—)</h2></header><div class=entry-content><p>å‰è¨€ å› ç‚ºåœ¨ç©ç´™ç‰Œæ¥é¾çš„éç¨‹ä¸­å¯èƒ½æœƒè¢«ç©åˆ°é€²å…¥ç„¡è§£çš„æƒ…æ³ï¼Œä¹Ÿå°±æ˜¯å†æ€éº¼ç§»å‹•æ’²å…‹ç‰Œéƒ½ç„¡æ³•å®Œæˆï¼Œæ‰€ä»¥å¦‚ä½•åœ¨éŠç©ä¸­å‘ŠçŸ¥ç©å®¶é€™ä»¶äº‹æƒ…è »é‡è¦çš„ï¼Œé¿å…ä¸å¿…è¦çš„å˜—è©¦ã€‚
æ€è€ƒå¦‚ä½•å¯¦ç¾ è€å¯¦èªªé€™ç¯‡æ–‡ç« å¯èƒ½æ˜¯å°æˆ‘ä¾†èªªæœ€é›£å¯«çš„ï¼Œé›–ç„¶èº«ç‚ºé–‹ç™¼è€…å¯ä»¥çŸ¥é“7ç‰Œå †å…¨éƒ¨çš„è“‹ç‰Œåº•ä¸‹æ˜¯ä»€éº¼èŠ±è‰²æ•¸å­—ï¼Œ ä½†å¦‚ä½•çŸ¥é“å ´ä¸Šå·²ç¶“ç„¡è§£åˆæ˜¯ä¸€å›äº‹ã€‚
åŸºæœ¬ä¸Šä¸è€ƒæ…®æš´åŠ›çš„çª®èˆ‰æ³•ï¼Œå…¶å¯¦æŸ¥åˆ°çš„çµæœå¤§è‡´å¯ä»¥æ¨å°ç„¡è§£çš„æƒ…æ³ï¼Œä¸è«–æ˜¯å…ˆå¤©æˆ–æ˜¯å¾Œå¤©æ“ä½œå°è‡´çš„ç„¡è§£éƒ½æ˜¯å› ç‚ºç–Šåœ¨è“‹ç‰Œä¸Šæ–¹çš„ç‰Œç„¡æ³•ç§»å‹•å°è‡´è“‹ç‰Œç„¡æ³•æ‰“é–‹ï¼Œæ‰€ä»¥æ˜¨å¤©è‡ªå‹•çµç®—æ‰å¯ä»¥ä¾ç…§å·²ç¶“æ²’æœ‰è“‹ç‰Œçš„æƒ…æ³ä¸‹ç•¶ä½œå…¨éƒ¨å®Œæˆã€‚
æ‰€ä»¥ç†è«–ä¸Š7ç‰Œå †å¦‚æœå‡ºç¾å£“ä½éš±è—ç‰Œçš„é‚£ä¸€å¼µæœªä¾†å®Œå…¨ç„¡æ³•ç§»å‹•ï¼Œé‚£å°±ä»£è¡¨æ­»å±€ã€‚
æ±ºå®šåˆ¤æ–·æ­»å±€çš„æ¼”ç®—æ³•(æœ‰èª¤) é›–ç„¶çœ‹äº†å¾ˆå¤šç¯‡æ–‡ç« ä¹Ÿç†è§£æ­»å±€çš„æ§‹æˆå°±æ˜¯å£“åœ¨è“‹ç‰Œä¸Šçš„ç‰Œç„¡æ³•ç§»å‹•ï¼Œ ä½†æ²’æœ‰ç›¸å°ç°¡å–®çš„åˆ¤æ–·çš„æ–¹æ³•â€¦
åœ¨é‚Šç©æ¥é¾é‚Šæ€è€ƒæ­»å±€åˆ¤æ–·çš„éç¨‹ä¸­ï¼Œæƒ³åˆ°ä¸€å€‹åˆ¤æ–·æ–¹æ³•åœ¨æ­¤å‘½åç‚ºç•°è‰²å¤§ä¸€è‹¥éš±å³æ­»å±€ã€‚
åç¨±è½èµ·ä¾†å¾ˆä¸­äºŒï¼Œæª¢æŸ¥æ–¹å¼æ˜¯7ç‰Œå †å…±7è¡Œï¼Œæ¯ä¸€ç›´è¡Œæœ€ä¸Šé¢å£“ä½éš±ç‰Œçš„ç¬¬ä¸€å¼µç‰Œè¦–ç‚ºæª¢æŸ¥é»(Ex: æ¢…èŠ±6)ï¼Œ æª¢æŸ¥éš±è—ç‰Œä¸­æ˜¯å¦æœ‰å…©å€‹èŠ±è‰²èˆ‡æª¢æŸ¥é»ä¸åŒä¸”å¤§ä¸€è™Ÿçš„æ•¸å­—(Ex: ç´…å¿ƒ7ã€æ–¹å¡Š7)ï¼Œè‹¥æœ‰å‰‡è¦–ç‚ºæ­¤å±€å·²ç„¡è§£(æ­»å±€)ï¼Œè‹¥ç„¡å‰‡ç¹¼çºŒæª¢æŸ¥å…¶ä»–çš„æª¢æŸ¥é»ã€‚
ç¯„ä¾‹åœ–: é»‘è‰²æ¡†ç‚ºéš±è—ç‰Œã€ç´«è‰²ç‚ºæª¢æŸ¥é»ã€æ©˜è‰²ç‚ºç›¸å°æª¢æŸ¥é»å¤§ä¸€è™Ÿçš„ç•°è‰²ç‰Œ å°çµ å¯¦ä½œå¾Œç™¼ç¾æ­¤æ¼”ç®—æ³•æœ‰éŒ¯èª¤æœƒå‡ºç¾åˆ¤æ–·æ´»å±€/æ­»å±€ç›¸åçš„æƒ…æ³ï¼Œ
ä½†é‚„æ˜¯æŠŠç¨‹å¼ç¢¼æ¨ä¸Šå»ï¼Œæ˜å¤©ç¹¼çºŒç ”ç©¶æ˜¯å¦æœ‰å…¶ä»–æ–¹æ³•è§£ğŸ«¡ã€‚
ç¨‹å¼ç¢¼: https://github.com/kabuto412rock/ithelp-pokergame/tree/day28
åƒè€ƒæ–‡ä»¶
çŸ¥ä¹-æ·±åº¦å‰–æå¾®è½¯ã€Šçº¸ç‰Œã€‹ç©æ³• Quora-Does the solitaire game always have a solution?</p></div><footer class=entry-footer><span title='2023-10-07 07:34:01 +0000 UTC'>October 7, 2023</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>å®—å˜‰</span></footer><a class=entry-link aria-label="post link to Day28 è©•ä¼°æ˜¯å¦ç„¡ç‰Œå¯èµ°ï¼Œå»ºè­°æ£„æ¬Šçš„æç¤º(å˜—è©¦å¤±æ•—)" href=https://zongjia.me/posts/it-day28/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Day27 ç•¶ç‰Œå…¨é–‹æ™‚è‡ªå‹•çµç®—</h2></header><div class=entry-content><p>å‰è¨€ å¦‚æ¨™é¡Œæ‰€è¨€ï¼Œä»Šå¤©è¦åšçš„å°±æ˜¯è£œä¸Šã€ç•¶ç‰Œå…¨é–‹æ™‚è¦–ç‚ºå·²å®ŒæˆéŠæˆ²ã€è‡ªå‹•çµç®—éŠæˆ²æ™‚é–“ã€åˆ†æ•¸ï¼Œ æœ‰å¯¦éš›åœ¨ç¾å¯¦ä¸–ç•Œä¸­ç”¨æ’²å…‹ç‰Œç©éæ¥é¾çš„æ‡‰è©²çŸ¥é“å…¶å¯¦æœ€éº»ç…©çš„å°±æ˜¯æ”¶ç‰Œçµå°¾ï¼Œå› ç‚ºæœ€å¾Œåªæ˜¯æ…¢æ…¢æŠŠæ‰€æœ‰ç‰Œéƒ½ç§»åˆ°çµç®—ç‰Œå †ã€‚
äº‹å…ˆèªªæ˜: æ­¤ç¯‡ä¸æœƒå¯¦ä½œè‡ªå‹•ç§»ç‰Œçš„å‹•ç•«æ•ˆæœã€‚
é–‹ç™¼å‰æ€è€ƒ åˆ¤æ–·ç‰Œå…¨é–‹ä¸é›£! ä¸éœ€è¦åˆ¤æ–·å…¨éƒ¨ç‰Œæ˜¯å¦å·²æ‰“é–‹ï¼Œ åªéœ€è¦åˆ¤æ–·7ç‰Œå †æ¯å †æœ€ä¸Šé¢ç¬¬ä¸€å¼µç‰Œæ˜¯å¦å·²æ‰“é–‹ï¼Œè‹¥æœ‰è“‹è‘—é‚£å°±ä¸èƒ½çµç®—ï¼Œ è‹¥æ¯å †ç¬¬ä¸€å¼µéƒ½æ²’è“‹è‘—å°±å¯ä»¥é–‹å§‹çµç®—ã€‚
çµç®—åˆ†æ•¸æ™‚åªéœ€è¦è€ƒæ…®è£œä¸Šç™¼ç‰Œå€ã€ç§»ç‰Œå€æœ‰å¹¾å¼µç‰Œï¼Œå†ç”¨åŠ åˆ†çš„æ–¹å¼è¨ˆç®—æœ€å¾Œçš„ç¸½åˆ†ã€‚
å¯¦ä½œéç¨‹ ä¿®æ”¹éŠæˆ²çµç®—æ™‚æ©Ÿ åŸæœ¬å‡½æ•¸checkSolitaireGameDone(cardStacks)æ˜¯åˆ¤æ–·çµç®—ç‰Œå †é›†æ»¿13å¼µç‰Œå‰‡ç•¶ä½œéŠæˆ²çµæŸï¼Œä½†æ€è€ƒéå¾Œçµç®—ç‰Œå †éƒ½é›†æ»¿13å¼µç­‰åŒæ–¼ä¸ƒç‰Œå€çš„ç‰Œå…¨ç©ºä¸€æ¨£æœƒå›æ‡‰trueï¼Œå› æ­¤æ”¾å¿ƒèª¿æ•´ç‚ºæª¢æŸ¥ä¸ƒç‰Œå †çš„æœ€ä¸Šæ–¹é–‹ç‰Œçš„ç‹€æ…‹ç•¶ä½œéŠæˆ²çµæŸçš„ä¾æ“šã€‚
// poker-helper.js /** * æª¢æŸ¥ç´™ç‰Œæ¥é¾æ˜¯å¦å®Œæˆ * @param {CardStacks} cardStacks */ function checkSolitaireGameDone(cardStacks) { // æª¢æŸ¥æ¯çµ„ç‰Œå †ç¬¬ä¸€å¼µç‰Œè¦†è“‹è‘—ï¼Œå°±ä»£è¡¨éŠæˆ²é‚„æ²’çµæŸ const isDone = SEVEN_STACKS.reduce((prev, stackName) => { const stack = cardStacks[stackName]; if (stack.length > 0 && (!stack[0].isOpen)) { return false; } return prev; }, true); return isDone; } è¨ˆç®—å‰©é¤˜ç‰Œæ•¸&çµç®—åˆ†æ•¸ æ–°å¢å‡½æ•¸getRemainCardCount(cardStacks)è¨ˆç®—ä¸¦è¿”å›ç™¼ç‰Œå€å’Œä¸ƒç‰Œå †çš„å‰©é¤˜ç‰Œæ•¸
// poker-helper.js /** * è¨ˆç®—å‰©é¤˜åœ¨ç™¼ç‰Œå€å’Œ7ç‰Œå †çš„å¼µæ•¸ * @param {CardStacks} cardStacks * @returns {Object} {dealer: number, seven: number} */ function getRemainCardCount(cardStacks) { let dealerStacksCount = cardStacks['dealerStacks'].length; let sevenCount = 0; SEVEN_STACKS.forEach((name) => { sevenCount += cardStacks[name].length; }); return { dealer: dealerStacksCount, seven: sevenCount, }; } åœ¨æ¥é¾é é¢ä½¿ç”¨computedå®£å‘Šä¸€å€‹è®Šæ•¸remainCardCountsï¼Œè² è²¬è¿”å›å‰©é¤˜çš„ç‰Œæ•¸ã€‚
...</p></div><footer class=entry-footer><span title='2023-10-06 05:25:00 +0000 UTC'>October 6, 2023</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>å®—å˜‰</span></footer><a class=entry-link aria-label="post link to Day27 ç•¶ç‰Œå…¨é–‹æ™‚è‡ªå‹•çµç®—" href=https://zongjia.me/posts/it-day27/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://zongjia.me/posts/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://zongjia.me/>ç¨‹å¼é–‹ç™¼è€…çš„å†’éšª</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>